app-id: io.github.danirabbit.voiceshark

runtime: io.elementary.Platform
runtime-version: '7.2'
sdk: io.elementary.Sdk

command: io.github.danirabbit.voiceshark

finish-args:
  - '--device=dri'
  - '--share=ipc'
  - '--socket=fallback-x11'
  - '--socket=wayland'

modules:
  - name: libportal
    buildsystem: meson
    config-opts:
      - "-Dbackends=['gtk4']"
      - '-Ddocs=false'
      - '-Dtests=false'
    sources:
      - type: git
        url: https://github.com/flatpak/libportal.git
        tag: '0.6'

  - name: voiceshark
    buildsystem: meson
    sources:
      - type: dir
        path: .
